# Observer Pattern
> Wikipidia copy

객체의 상태 변화를 관찰하는 관찰자들, 즉 옵저버들의 목록을 객체에 등록하여 상태 변화가 있을 때마다 메서드 등을 통해 객체가 직접 목록의 각 옵저버에게 통지하도록 하는 디자인 패턴. 주로 분산 이벤트 핸들링 시스템을 구현하는데 사용된다. pub/sub 모델로 알려져있기도 하다.

![uml](https://upload.wikimedia.org/wikipedia/commons/thumb/8/8d/Observer.svg/854px-Observer.svg.png)

이벤트가 발생하면 각 옵저버는 콜백을 받는다. `notify`함수는 관찰 대상이 발행한 메시지 이외에 옵저버 자신이 생성한 인자값은 전달할 수도 있다.

각각의 파생 옵저버는 `notify`함수를 구현함으로써 이벤트가 발생했을 떄 처리할 각자의 동작을 정의해야 한다.

subject는 일반적으로 register, unregister 메소드가 있는데 전자는 새로운 옵저버를 목록에 등록하고 후자는 목록에서 옵저버를 뺀다. 이 두 메소드 외에도 임시로 작동을 멈추거나 재개하는 메소드를 통해 이벤트가 계속해서 있을 떄 홍수같이 발생하는 요청을 제어할 수도 있다.

옵저버 패턴이 많이 쓰인 시스템에서는 순환 실행을 막는 메커니즘이 필요하다. 이벤트 X가 발생하면 옵저버A가 옵저버 B를 갱신한다고 가정해보자. 그런데 옵저버B가 이 처리를 위해 옵저버A를 갱신한다면, 이 같은 상황을 막기 위해 이벤트 X가 한번 처리된 후에는 A가 X를 다시 발생시키지 않는 방법이 요구된다.

## 사례

* 외부에서 발생한 이벤트에 대한 응답. **이벤트 기반 프로그래밍**
* 객체의 속성 값 변화에 따른 응답. 종종 콜백은 속성 값 변화를 처리하기 위해 호출될 뿐아니라 속성 값 또한 바꾼다. 때때로 이벤트 연쇄의 원인이 될 수 있다.

옵저버 패턴은 MVC 패러다임과 자주 결합된다. 옵저버 패턴은 MVC에서 모델과 뷰 사이를 느슨하게 연결하기 위해 사용된다. 대표적으로 모델에서 일어나는 이벤트를 통보받는 옵저버는 뷰의 내용을 바꾸는 스위치를 작동시킨다.

## 예제는 Examples에